function myMap(){myCenter=new google.maps.LatLng(41.878114,-87.629798);var t={center:myCenter,zoom:12,scrollwheel:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("googleMap"),t);new google.maps.Marker({position:myCenter}).setMap(e)}!function(c){console.log("rr");var s={startPos:function(t,e){return t*e},getPage:function(t,e,a){var n=[];t=t.slice(e,t.length);for(var i=0;i<a;i++)n.push(t[i]);return n},totalPages:function(t,e){return Math.ceil(t.length/e)},createBtns:function(t,e){var a=c('<div class="pagination" />');a.append('<span class="pagination-button">&laquo;</span>');for(var n=1;n<=t;n++){if(5<t&&e!==n)if(1===e||2===e){if(5<n)continue}else if(e===t||e===t-1){if(n<t-4)continue}else if(n<e-2||e+2<n)continue;var i=c('<span class="pagination-button page-num" />');n==e&&i.addClass("active"),i.text(n),a.append(i)}return a.append(c('<span class="pagination-button">&raquo;</span>')),a},createPage:function(t,e,a){c(".pagination").remove();var n=t.parent(),i=(t=t.detach().toArray(),this.startPos(e-1,a)),o=this.getPage(t,i,a);c.each(o,function(){void 0===this.window&&n.append(c(this))});var s=this.totalPages(t,a),r=this.createBtns(s,e);n.after(r)}};c.fn.paginate=function(i){var o=c(this);if((isNaN(i)||void 0===i)&&(i=5),o.length<=i)return!0;o.length!==o.parent()[0].children.length&&o.wrapAll('<div class="pagination-items" />'),s.createPage(o,1,i),c(document).on("click",".pagination-button",function(t){var e=parseInt(c(".pagination-button.active").text(),10),a=s.totalPages(o,i),n=c(t.target);e=parseInt(n.text(),10),"«"==n.text()&&(e=1),"»"==n.text()&&(e=a),0<e&&e<=a&&s.createPage(o,e,i)})}}(jQuery),$(".article-loop").paginate(2),$(document).ready(function(){$(".image").click(function(){var t=$(this).attr("src");$("body").append("<div class='popup'><div class='popup_bg'></div><img src='"+t+"' class='popup_img' /></div>"),$(".popup").fadeIn(800),$(".popup_bg").click(function(){$(".popup").fadeOut(800),setTimeout(function(){$(".popup").remove()},800)})})}),$(document).ready(function(){$(".container--first").owlCarousel({loop:!0,items:1,autoplay:!0,margin:30,dots:!0,nav:!0,autoplayTimeout:1e4,smartSpeed:5e3,navSpeed:5e3,touchDrag:!0,mouseDrag:!0})}),$(document).ready(function(){function e(a,n){var i="";$.getJSON("country_state_city.json",function(t){i+='<option value=""></option>',$.each(t,function(t,e){"country"===a?"0"===e.parent_id&&(i+='<option value="'+e.id+'">'+e.name+"</option>"):e.parent_id===n&&(i+='<option value="'+e.id+'">'+e.name+"</option>")}),$("#"+a).html(i)})}e("country"),$(document).on("change","#country",function(){var t=$(this).val();""!==t?e("state",t):$("#state").html('<option value=""></option>'),$("#city").html('<option value=""></option>')}),$(document).on("change","#state",function(){var t=$(this).val();""!==t?e("city",t):$("#city").html('<option value="">Select City</option>')})}),$(function(){$(" .main-form__block select").focusout(function(){""===$(this).val()?$(this).removeClass("focusFancy"):$(this).addClass("focusFancy"),$(this).removeClass("error")}),$(".search-main-form").on("click",function(){$(".main-form__block__select").each(function(){var t=$(this);0===t.val().length&&t.addClass("error")})}),$(".main-form__block__select").change(function(){var t=$(this);"0"!==t.val()&&t.removeClass("error")})}),$("#txt-search").keyup(function(){var e=$(this).val();""!==e?$.getJSON("search-data.json",function(t){var a=new RegExp(e,"i"),n='<div class="search-block">';$.each(t,function(t,e){-1==e.tour.search(a)&&-1==e.name.search(a)||(n+='<div class="search-result">',n+='<div class="search-result__image"><img class="search-result__image__main" src="'+e.tour_image+'" alt="'+e.employee_name+'" /></div>',n+='<div class="search-result__description">',n+='<h5 class="search-result__title">'+e.name+"</h5>",n+='<p class="search-result__text">'+e.tour_description+"</p>",n+='<a href="#" class="search-result__link">more details</a>',n+="</div>",n+="</div>")}),n+="</div>",$("#filter-records").html(n)}):$("#filter-records").html("")}),$(function(){$(".youtube").each(function(){$(this).css("background-image","url(http://i.ytimg.com/vi/"+this.id+"/sddefault.jpg)"),$(this).append($("<div/>",{class:"play"})),$(document).delegate("#"+this.id,"click",function(){var t="https://www.youtube.com/embed/"+this.id+"?autoplay=1&autohide=1&rel=0&fs=1";$(this).data("params")&&(t+="&"+$(this).data("params"));var e=$("<iframe/>",{frameborder:"0",src:t,width:$(this).width(),height:$(this).height(),allowfullscreen:"allowfullscreen"});$(this).replaceWith(e)})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibXlNYXAiLCJteUNlbnRlciIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwiZHJhZ2dhYmxlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsIm1hcCIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldE1hcCIsIiQiLCJjb25zb2xlIiwibG9nIiwicGFnaW5hdGUiLCJzdGFydFBvcyIsInBhZ2VOdW1iZXIiLCJwZXJQYWdlIiwiZ2V0UGFnZSIsIml0ZW1zIiwicGFnZSIsInNsaWNlIiwibGVuZ3RoIiwiaSIsInB1c2giLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjcmVhdGVCdG5zIiwiY3VycmVudFBhZ2UiLCJwYWdpbmF0aW9uIiwiYXBwZW5kIiwicGFnZUJ0biIsImFkZENsYXNzIiwidGV4dCIsImNyZWF0ZVBhZ2UiLCJyZW1vdmUiLCJjb250YWluZXIiLCJwYXJlbnQiLCJkZXRhY2giLCJ0b0FycmF5IiwidGhpcyIsImVhY2giLCJ1bmRlZmluZWQiLCJ3aW5kb3ciLCJwYWdlQnV0dG9ucyIsImFmdGVyIiwiZm4iLCJpc05hTiIsImNoaWxkcmVuIiwid3JhcEFsbCIsIm9uIiwiZSIsIm5ld1BhZ2UiLCJwYXJzZUludCIsInRhcmdldCIsImpRdWVyeSIsInJlYWR5IiwiY2xpY2siLCJzcmMiLCJhdHRyIiwiZmFkZUluIiwiZmFkZU91dCIsInNldFRpbWVvdXQiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJhdXRvcGxheSIsIm1hcmdpbiIsImRvdHMiLCJuYXYiLCJhdXRvcGxheVRpbWVvdXQiLCJzbWFydFNwZWVkIiwibmF2U3BlZWQiLCJ0b3VjaERyYWciLCJtb3VzZURyYWciLCJsb2FkX2pzb25fZGF0YSIsImlkIiwicGFyZW50X2lkIiwiaHRtbF9jb2RlIiwiZ2V0SlNPTiIsImRhdGEiLCJrZXkiLCJ2YWx1ZSIsIm5hbWUiLCJodG1sIiwiY291bnRyeV9pZCIsInZhbCIsInN0YXRlX2lkIiwiZm9jdXNvdXQiLCJyZW1vdmVDbGFzcyIsIiR0aGlzIiwiY2hhbmdlIiwia2V5dXAiLCJzZWFyY2hGaWVsZCIsInJlZ2V4IiwiUmVnRXhwIiwib3V0cHV0IiwidG91ciIsInNlYXJjaCIsInRvdXJfaW1hZ2UiLCJlbXBsb3llZV9uYW1lIiwidG91cl9kZXNjcmlwdGlvbiIsImNzcyIsImNsYXNzIiwiZGVsZWdhdGUiLCJpZnJhbWVfdXJsIiwiaWZyYW1lIiwiZnJhbWVib3JkZXIiLCJ3aWR0aCIsImhlaWdodCIsImFsbG93ZnVsbHNjcmVlbiIsInJlcGxhY2VXaXRoIl0sIm1hcHBpbmdzIjoiQUF3S0EsU0FBU0EsUUFFTEMsU0FBUyxJQUFJQyxPQUFPQyxLQUFLQyxPQUFPLFdBQVksV0FDNUMsSUFBSUMsRUFBWSxDQUNaQyxPQUFPTCxTQUNQTSxLQUFLLEdBQUlDLGFBQWEsRUFBT0MsV0FBVyxFQUN4Q0MsVUFBVVIsT0FBT0MsS0FBS1EsVUFBVUMsU0FFaENDLEVBQUksSUFBSVgsT0FBT0MsS0FBS1csSUFBSUMsU0FBU0MsZUFBZSxhQUFhWCxHQUVwRCxJQUFJSCxPQUFPQyxLQUFLYyxPQUFPLENBQ2hDQyxTQUFVakIsV0FFUGtCLE9BQU9OLElBcExsQixTQUFVTyxHQUNWQyxRQUFRQyxJQUFJLE1BQ1IsSUFBSUMsRUFBVyxDQUNYQyxTQUFVLFNBQVNDLEVBQVlDLEdBRzNCLE9BQU9ELEVBQWFDLEdBR3hCQyxRQUFTLFNBQVNDLEVBQU9KLEVBQVVFLEdBRS9CLElBQUlHLEVBQU8sR0FHWEQsRUFBUUEsRUFBTUUsTUFBTU4sRUFBVUksRUFBTUcsUUFHcEMsSUFBSyxJQUFJQyxFQUFFLEVBQUdBLEVBQUlOLEVBQVNNLElBQ3ZCSCxFQUFLSSxLQUFLTCxFQUFNSSxJQUVwQixPQUFPSCxHQUdYSyxXQUFZLFNBQVNOLEVBQU9GLEdBRXhCLE9BQU9TLEtBQUtDLEtBQUtSLEVBQU1H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U2pHLEVBQUU4QixNQUFNbUUsUUFBU0MsT0FBVWxHLEVBQUU4QixNQUFNb0UsU0FBU0MsZ0JBQWtCLG9CQUUzSW5HLEVBQUU4QixNQUFNc0UsWUFBWUwiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4oZnVuY3Rpb24oJCl7XHJcbmNvbnNvbGUubG9nKCdycicpO1xyXG4gICAgdmFyIHBhZ2luYXRlID0ge1xyXG4gICAgICAgIHN0YXJ0UG9zOiBmdW5jdGlvbihwYWdlTnVtYmVyLCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB3aGF0IGFycmF5IHBvc2l0aW9uIHRvIHN0YXJ0IGZyb21cclxuICAgICAgICAgICAgLy8gYmFzZWQgb24gY3VycmVudCBwYWdlIGFuZCAjIHBlciBwYWdlXHJcbiAgICAgICAgICAgIHJldHVybiBwYWdlTnVtYmVyICogcGVyUGFnZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBnZXRQYWdlOiBmdW5jdGlvbihpdGVtcywgc3RhcnRQb3MsIHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgLy8gZGVjbGFyZSBhbiBlbXB0eSBhcnJheSB0byBob2xkIG91ciBwYWdlIGl0ZW1zXHJcbiAgICAgICAgICAgIHZhciBwYWdlID0gW107XHJcblxyXG4gICAgICAgICAgICAvLyBvbmx5IGdldCBpdGVtcyBhZnRlciB0aGUgc3RhcnRpbmcgcG9zaXRpb25cclxuICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5zbGljZShzdGFydFBvcywgaXRlbXMubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxvb3AgcmVtYWluaW5nIGl0ZW1zIHVudGlsIG1heCBwZXIgcGFnZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGkgPCBwZXJQYWdlOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHBhZ2UucHVzaChpdGVtc1tpXSk7IH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYWdlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHRvdGFsUGFnZXM6IGZ1bmN0aW9uKGl0ZW1zLCBwZXJQYWdlKSB7XHJcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB0b3RhbCBudW1iZXIgb2YgcGFnZXNcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguY2VpbChpdGVtcy5sZW5ndGggLyBwZXJQYWdlKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjcmVhdGVCdG5zOiBmdW5jdGlvbih0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICAvLyBjcmVhdGUgYnV0dG9ucyB0byBtYW5pcHVsYXRlIGN1cnJlbnQgcGFnZVxyXG4gICAgICAgICAgICB2YXIgcGFnaW5hdGlvbiA9ICQoJzxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uXCIgLz4nKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBhIFwiZmlyc3RcIiBidXR0b25cclxuICAgICAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmQoJzxzcGFuIGNsYXNzPVwicGFnaW5hdGlvbi1idXR0b25cIj4mbGFxdW87PC9zcGFuPicpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIHBhZ2VzIGluYmV0d2VlblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTE7IGkgPD0gdG90YWxQYWdlczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB0cnVuY2F0ZSBsaXN0IHdoZW4gdG9vIGxhcmdlXHJcbiAgICAgICAgICAgICAgICBpZiAodG90YWxQYWdlcyA+IDUgJiYgY3VycmVudFBhZ2UgIT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBvbiBmaXJzdCB0d28gcGFnZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPT09IDEgfHwgY3VycmVudFBhZ2UgPT09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBmaXJzdCA1IHBhZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gNSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG9uIGxhc3QgdHdvIHBhZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyB8fCBjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2hvdyBsYXN0IDUgcGFnZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCB0b3RhbFBhZ2VzIC0gNCkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzaG93IDUgcGFnZXMgdy8gY3VycmVudCBpbiBtaWRkbGVcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IGN1cnJlbnRQYWdlIC0gMiB8fCBpID4gY3VycmVudFBhZ2UgKyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYXJrdXAgZm9yIHBhZ2UgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXIgcGFnZUJ0biA9ICQoJzxzcGFuIGNsYXNzPVwicGFnaW5hdGlvbi1idXR0b24gcGFnZS1udW1cIiAvPicpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFkZCBhY3RpdmUgY2xhc3MgZm9yIGN1cnJlbnQgcGFnZVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT0gY3VycmVudFBhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlQnRuLmFkZENsYXNzKCdhY3RpdmUnKTsgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNldCB0ZXh0IHRvIHRoZSBwYWdlIG51bWJlclxyXG4gICAgICAgICAgICAgICAgcGFnZUJ0bi50ZXh0KGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGFkZCBidXR0b24gdG8gdGhlIGNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbi5hcHBlbmQocGFnZUJ0bik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBhIFwibGFzdFwiIGJ1dHRvblxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uLmFwcGVuZCgkKCc8c3BhbiBjbGFzcz1cInBhZ2luYXRpb24tYnV0dG9uXCI+JnJhcXVvOzwvc3Bhbj4nKSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcGFnaW5hdGlvbjtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBjcmVhdGVQYWdlOiBmdW5jdGlvbihpdGVtcywgY3VycmVudFBhZ2UsIHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIHBhZ2luYXRpb24gZnJvbSB0aGUgcGFnZVxyXG4gICAgICAgICAgICAkKCcucGFnaW5hdGlvbicpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gc2V0IGNvbnRleHQgZm9yIHRoZSBpdGVtc1xyXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gaXRlbXMucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICAvLyBkZXRhY2ggaXRlbXMgZnJvbSB0aGUgcGFnZSBhbmQgY2FzdCBhcyBhcnJheVxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5kZXRhY2goKS50b0FycmF5KCksXHJcbiAgICAgICAgICAgICAgICAvLyBnZXQgc3RhcnQgcG9zaXRpb24gYW5kIHNlbGVjdCBpdGVtcyBmb3IgcGFnZVxyXG4gICAgICAgICAgICAgICAgc3RhcnRQb3MgPSB0aGlzLnN0YXJ0UG9zKGN1cnJlbnRQYWdlIC0gMSwgcGVyUGFnZSksXHJcbiAgICAgICAgICAgICAgICBwYWdlID0gdGhpcy5nZXRQYWdlKGl0ZW1zLCBzdGFydFBvcywgcGVyUGFnZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBsb29wIGl0ZW1zIGFuZCByZWFkZCB0byBwYWdlXHJcbiAgICAgICAgICAgICQuZWFjaChwYWdlLCBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgLy8gcHJldmVudCBlbXB0eSBpdGVtcyB0aGF0IHJldHVybiBhcyBXaW5kb3dcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLndpbmRvdyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZCgkKHRoaXMpKTsgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHByZXAgcGFnaW5hdGlvbiBidXR0b25zIGFuZCBhZGQgdG8gcGFnZVxyXG4gICAgICAgICAgICB2YXIgdG90YWxQYWdlcyA9IHRoaXMudG90YWxQYWdlcyhpdGVtcywgcGVyUGFnZSksXHJcbiAgICAgICAgICAgICAgICBwYWdlQnV0dG9ucyA9IHRoaXMuY3JlYXRlQnRucyh0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSk7XHJcblxyXG4gICAgICAgICAgICBjb250YWluZXIuYWZ0ZXIocGFnZUJ1dHRvbnMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gc3R1ZmYgaXQgYWxsIGludG8gYSBqUXVlcnkgbWV0aG9kIVxyXG4gICAgJC5mbi5wYWdpbmF0ZSA9IGZ1bmN0aW9uKHBlclBhZ2UpIHtcclxuICAgICAgICB2YXIgaXRlbXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBkZWZhdWx0IHBlclBhZ2UgdG8gNVxyXG4gICAgICAgIGlmIChpc05hTihwZXJQYWdlKSB8fCBwZXJQYWdlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcGVyUGFnZSA9IDU7IH1cclxuXHJcbiAgICAgICAgLy8gZG9uJ3QgZmlyZSBpZiBmZXdlciBpdGVtcyB0aGFuIHBlclBhZ2VcclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoIDw9IHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7IH1cclxuXHJcbiAgICAgICAgLy8gZW5zdXJlIGl0ZW1zIHN0YXkgaW4gdGhlIHNhbWUgRE9NIHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCAhPT0gaXRlbXMucGFyZW50KClbMF0uY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGl0ZW1zLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJwYWdpbmF0aW9uLWl0ZW1zXCIgLz4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHBhZ2luYXRlIHRoZSBpdGVtcyBzdGFydGluZyBhdCBwYWdlIDFcclxuICAgICAgICBwYWdpbmF0ZS5jcmVhdGVQYWdlKGl0ZW1zLCAxLCBwZXJQYWdlKTtcclxuXHJcbiAgICAgICAgLy8gaGFuZGxlIGNsaWNrIGV2ZW50cyBvbiB0aGUgYnV0dG9uc1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucGFnaW5hdGlvbi1idXR0b24nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIC8vIGdldCBjdXJyZW50IHBhZ2UgZnJvbSBhY3RpdmUgYnV0dG9uXHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZSA9IHBhcnNlSW50KCQoJy5wYWdpbmF0aW9uLWJ1dHRvbi5hY3RpdmUnKS50ZXh0KCksIDEwKSxcclxuICAgICAgICAgICAgICAgIG5ld1BhZ2UgPSBjdXJyZW50UGFnZSxcclxuICAgICAgICAgICAgICAgIHRvdGFsUGFnZXMgPSBwYWdpbmF0ZS50b3RhbFBhZ2VzKGl0ZW1zLCBwZXJQYWdlKSxcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9ICQoZS50YXJnZXQpO1xyXG5cclxuICAgICAgICAgICAgLy8gZ2V0IG51bWJlcmVkIHBhZ2VcclxuICAgICAgICAgICAgbmV3UGFnZSA9IHBhcnNlSW50KHRhcmdldC50ZXh0KCksIDEwKTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC50ZXh0KCkgPT0gJ8KrJykgbmV3UGFnZSA9IDE7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQudGV4dCgpID09ICfCuycpIG5ld1BhZ2UgPSB0b3RhbFBhZ2VzO1xyXG5cclxuICAgICAgICAgICAgLy8gZW5zdXJlIG5ld1BhZ2UgaXMgaW4gYXZhaWxhYmxlIHJhbmdlXHJcbiAgICAgICAgICAgIGlmIChuZXdQYWdlID4gMCAmJiBuZXdQYWdlIDw9IHRvdGFsUGFnZXMpIHtcclxuICAgICAgICAgICAgICAgIHBhZ2luYXRlLmNyZWF0ZVBhZ2UoaXRlbXMsIG5ld1BhZ2UsIHBlclBhZ2UpOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxufSkoalF1ZXJ5KTtcclxuJCgnLmFydGljbGUtbG9vcCcpLnBhZ2luYXRlKDIpO1xyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PXBvcCB1cCBpbWFnZT09PT09PT09PT09PT09PT0qL1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsgLy8g0JbQtNGR0Lwg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLXHJcblxyXG4gICAgJChcIi5pbWFnZVwiKS5jbGljayhmdW5jdGlvbigpe1x0Ly8g0KHQvtCx0YvRgtC40LUg0LrQu9C40LrQsCDQvdCwINC80LDQu9C10L3RjNC60L7QtSDQuNC30L7QsdGA0LDQttC10L3QuNC1XHJcbiAgICAgICAgdmFyIGltZyA9ICQodGhpcyk7XHQvLyDQn9C+0LvRg9GH0LDQtdC8INC40LfQvtCx0YDQsNC20LXQvdC40LUsINC90LAg0LrQvtGC0L7RgNC+0LUg0LrQu9C40LrQvdGD0LvQuFxyXG4gICAgICAgIHZhciBzcmMgPSBpbWcuYXR0cignc3JjJyk7IC8vINCU0L7RgdGC0LDQtdC8INC40Lcg0Y3RgtC+0LPQviDQuNC30L7QsdGA0LDQttC10L3QuNGPINC/0YPRgtGMINC00L4g0LrQsNGA0YLQuNC90LrQuFxyXG4gICAgICAgICQoXCJib2R5XCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J3BvcHVwJz5cIisgLy/QlNC+0LHQsNCy0LvRj9C10Lwg0LIg0YLQtdC70L4g0LTQvtC60YPQvNC10L3RgtCwINGA0LDQt9C80LXRgtC60YMg0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQs9C+INC+0LrQvdCwXHJcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ncG9wdXBfYmcnPjwvZGl2PlwiKyAvLyDQkdC70L7Quiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDRgdC70YPQttC40YLRjCDRhNC+0L3QvtC8INC30LDRgtC10LzQvdC10L3QvdGL0LxcclxuICAgICAgICAgICAgXCI8aW1nIHNyYz0nXCIrc3JjK1wiJyBjbGFzcz0ncG9wdXBfaW1nJyAvPlwiKyAvLyDQodCw0LzQviDRg9Cy0LXQu9C40YfQtdC90L3QvtC1INGE0L7RgtC+XHJcbiAgICAgICAgICAgIFwiPC9kaXY+XCIpO1xyXG4gICAgICAgICQoXCIucG9wdXBcIikuZmFkZUluKDgwMCk7IC8vINCc0LXQtNC70LXQvdC90L4g0LLRi9Cy0L7QtNC40Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVxyXG4gICAgICAgICQoXCIucG9wdXBfYmdcIikuY2xpY2soZnVuY3Rpb24oKXtcdC8vINCh0L7QsdGL0YLQuNC1INC60LvQuNC60LAg0L3QsCDQt9Cw0YLQtdC80L3QtdC90L3Ri9C5INGE0L7QvVxyXG4gICAgICAgICAgICAkKFwiLnBvcHVwXCIpLmZhZGVPdXQoODAwKTtcdC8vINCc0LXQtNC70LXQvdC90L4g0YPQsdC40YDQsNC10Lwg0LLRgdC/0LvRi9Cy0LDRjtGJ0LXQtSDQvtC60L3QvlxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1x0Ly8g0JLRi9GB0YLQsNCy0LvRj9C10Lwg0YLQsNC50LzQtdGAXHJcbiAgICAgICAgICAgICAgICAkKFwiLnBvcHVwXCIpLnJlbW92ZSgpOyAvLyDQo9C00LDQu9GP0LXQvCDRgNCw0LfQvNC10YLQutGDINCy0YHQv9C70YvQstCw0Y7RidC10LPQviDQvtC60L3QsFxyXG4gICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59KTtcbid1c2Ugc3RyaWN0J1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09TUFQPT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuZnVuY3Rpb24gbXlNYXAoKVxyXG57XHJcbiAgICBteUNlbnRlcj1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDQxLjg3ODExNCwgLTg3LjYyOTc5OCk7XHJcbiAgICB2YXIgbWFwT3B0aW9ucz0ge1xyXG4gICAgICAgIGNlbnRlcjpteUNlbnRlcixcclxuICAgICAgICB6b29tOjEyLCBzY3JvbGx3aGVlbDogZmFsc2UsIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgbWFwVHlwZUlkOmdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQXHJcbiAgICB9O1xyXG4gICAgdmFyIG1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ29vZ2xlTWFwXCIpLG1hcE9wdGlvbnMpO1xyXG5cclxuICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjogbXlDZW50ZXIsXHJcbiAgICB9KTtcclxuICAgIG1hcmtlci5zZXRNYXAobWFwKTtcclxufVxyXG5cbid1c2Ugc3RyaWN0J1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcuY29udGFpbmVyLS1maXJzdCcpLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgIGl0ZW1zOiAxLFxyXG4gICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgIG1hcmdpbjogMzAsXHJcbiAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICBuYXY6IHRydWUsXHJcbiAgICAgICAgYXV0b3BsYXlUaW1lb3V0OiAxMDAwMCxcclxuICAgICAgICBzbWFydFNwZWVkOiA1MDAwLFxyXG4gICAgICAgIG5hdlNwZWVkOiA1MDAwLFxyXG4gICAgICAgIHRvdWNoRHJhZzogdHJ1ZSxcclxuICAgICAgICBtb3VzZURyYWc6IHRydWVcclxuICAgIH0pXHJcbn0pXG4ndXNlIHN0cmljdCdcclxuXHJcbi8qXHJcbnZhciBkYXRhID0gW1xyXG4gICAge1xyXG4gICAgICAgIFwiaWRcIjpcIjFcIixcclxuICAgICAgICBcImVtcGxveWVlX25hbWVcIjpcIlRpZ2VyIE5peG9uXCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9zYWxhcnlcIjpcIjMyMDgwMFwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfYWdlXCI6XCI2MVwiLFxyXG4gICAgICAgIFwicHJvZmlsZV9pbWFnZVwiOlwiZGVmYXVsdF9wcm9maWxlLnBuZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwiaWRcIjpcIjJcIixcclxuICAgICAgICBcImVtcGxveWVlX25hbWVcIjpcIkdhcnJldHQgV2ludGVyc1wiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfc2FsYXJ5XCI6XCI0MzQzNDNcIixcclxuICAgICAgICBcImVtcGxveWVlX2FnZVwiOlwiNjNcIixcclxuICAgICAgICBcInByb2ZpbGVfaW1hZ2VcIjpcImRlZmF1bHRfcHJvZmlsZS5wbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBcImlkXCI6XCIzXCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9uYW1lXCI6XCJBc2h0b24gQ294XCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9zYWxhcnlcIjpcIjg2MDAwXCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9hZ2VcIjpcIjY2XCIsXHJcbiAgICAgICAgXCJwcm9maWxlX2ltYWdlXCI6XCJkZWZhdWx0X3Byb2ZpbGUucG5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJpZFwiOlwiNFwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfbmFtZVwiOlwiQ2VkcmljIEtlbGx5XCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9zYWxhcnlcIjpcIjQzMzA2MFwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfYWdlXCI6XCIyMlwiLFxyXG4gICAgICAgIFwicHJvZmlsZV9pbWFnZVwiOlwiZGVmYXVsdF9wcm9maWxlLnBuZ1wiXHJcbiAgICB9XHJcbl07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiQoJyN0eHQtc2VhcmNoJykua2V5dXAoZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWFyY2hGaWVsZCA9ICQodGhpcykudmFsKCk7XHJcbiAgICBpZihzZWFyY2hGaWVsZCA9PT0gJycpICB7XHJcbiAgICAgICAgJCgnI2ZpbHRlci1yZWNvcmRzJykuaHRtbCgnJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQuZ2V0SlNPTignc2VhcmNoLWRhdGEuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHNlYXJjaEZpZWxkLCBcImlcIik7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLWJsb2NrXCI+JztcclxuICAgICAgICB2YXIgY291bnQgPSAxO1xyXG4gICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcclxuICAgICAgICAgICAgaWYgKCh2YWwuZW1wbG95ZWVfc2FsYXJ5LnNlYXJjaChyZWdleCkgIT0gLTEpIHx8ICh2YWwuZW1wbG95ZWVfbmFtZS5zZWFyY2gocmVnZXgpICE9IC0xKSkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLXJlc3VsdFwiPic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzxkaXYgY2xhc3M9XCJzZWFyY2gtcmVzdWx0X19pbWFnZVwiPjxpbWcgY2xhc3M9XCJzZWFyY2gtcmVzdWx0X19pbWFnZV9fbWFpblwiIHNyYz1cIicgKyB2YWwucHJvZmlsZV9pbWFnZSArICdcIiBhbHQ9XCInICsgdmFsLmVtcGxveWVlX25hbWUgKyAnXCIgLz48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLXJlc3VsdF9fZGVzY3JpcHRpb25cIj4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8aDU+JyArIHZhbC5lbXBsb3llZV9uYW1lICsgJzwvaDU+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPHA+JyArIHZhbC5lbXBsb3llZV9zYWxhcnkgKyAnPC9wPic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzxhIGhyZWY9XCIjXCI+bW9yZSBkZXRhaWw8L2E+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgIGlmIChjb3VudCAlIDIgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+PGRpdiBjbGFzcz1cInNlYXJjaC1yZXN1bHRcIj4nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb3V0cHV0ICs9ICc8L2Rpdj4nO1xyXG4gICAgICAgICQoJyNmaWx0ZXItcmVjb3JkcycpLmh0bWwob3V0cHV0KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG4qL1xyXG4vKlxyXG5cclxudmFyIHNlYXJjaFZhbCA9ICcnO1xyXG5cclxuJChmdW5jdGlvbigpe1xyXG4gICAgLy8gaWYgdGV4dCBib3ggdmFsdWUgaXMgbm90IG51bGwsIHRoZW4gZGFya2VuIHJlc2V0IGljb25cclxuICAgICQoXCIuc2xpbnB1dCBpbnB1dFwiKS5rZXl1cChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB2YWwgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgICAgIGlmKHZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuZmluZChcIi5yaWdodC1pY29uXCIpLmNzcygnY29sb3InLCcjNTU1Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5maW5kKFwiLnJpZ2h0LWljb25cIikuY3NzKCdjb2xvcicsJyNjY2MnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBpZiB1c2VyIGNsaWNrIG9uIHJlc2V0IGljb24sIGNsZWFyIHRleHQgZmllbGRcclxuICAgICQoXCIuc2xpbnB1dCAucmlnaHQtaWNvblwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQodGhpcykucGFyZW50KCkuZmluZChcImlucHV0XCIpLnZhbCgnJyk7XHJcbiAgICAgICAgJCh0aGlzKS5jc3MoJ2NvbG9yJywnI2NjYycpO1xyXG4gICAgICAgIGxvYWREYXRhKHVzZXJEYXRhKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvYWREYXRhKHVzZXJEYXRhKTtcclxufSk7XHJcblxyXG4vLyBEaXNwbGF5aW5nIEluZm9ybWF0aW9uIHRvIFVzZXJzXHJcbmZ1bmN0aW9uIGxvYWREYXRhKGRhdGEpIHtcclxuICAgIHZhciBodG1sRGF0YSA9ICcnO1xyXG4gICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGluZGV4LCB2YWwpe1xyXG4gICAgICAgIGh0bWxEYXRhICs9ICc8ZGl2IGNsYXNzPVwibWVkaWEgdXNlclwiPicrXHJcbiAgICAgICAgICAgICcgIDxkaXYgY2xhc3M9XCJtZWRpYS1sZWZ0XCI+JytcclxuICAgICAgICAgICAgJyAgICA8YSBocmVmPVwiI1wiPicrXHJcbiAgICAgICAgICAgICcgICAgICA8aW1nIGNsYXNzPVwibWVkaWEtb2JqZWN0XCIgc3JjPVwiJyt2YWwucGljKydcIiBhbHQ9XCIuLi5cIj4nK1xyXG4gICAgICAgICAgICAnICAgIDwvYT4nK1xyXG4gICAgICAgICAgICAnICA8L2Rpdj4nK1xyXG4gICAgICAgICAgICAnICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPicrXHJcbiAgICAgICAgICAgICcgICAgPGg0IGNsYXNzPVwibWVkaWEtaGVhZGluZ1wiPicrdmFsLm5hbWUrJzwvaDQ+JytcclxuICAgICAgICAgICAgJyAgICAnK3ZhbC5wbGFjZStcclxuICAgICAgICAgICAgJyAgPC9kaXY+JytcclxuICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICB9KTtcclxuICAgICQoXCIjdXNlcnNcIikuaHRtbChodG1sRGF0YSk7XHJcbn1cclxuXHJcbi8vIFNlYXJjaCB1c2VycyBkYXRhIGJhc2VkIGlucHV0IHNlYXJjaCBrZXl3b3JkXHJcbmZ1bmN0aW9uIHNlYXJjaFVzZXJzKCkge1xyXG4gICAgdmFyIHZhbCA9ICQoXCIjc2VhcmNoSW5wdXRcIikudmFsKCk7XHJcbiAgICBpZih2YWwgPT0gc2VhcmNoVmFsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZWFyY2hWYWwgPSB2YWw7XHJcbiAgICAgICAgdmFyIHNlYXJjaFJlc3VsdHMgPSB7fTtcclxuICAgICAgICBzZWFyY2hSZXN1bHRzID0gW107XHJcbiAgICAgICAgJC5lYWNoKHVzZXJEYXRhLCBmdW5jdGlvbihpLCB2KSB7XHJcbiAgICAgICAgICAgIGlmICh2Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKHZhbCkgIT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMucHVzaCh2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxvYWREYXRhKHNlYXJjaFJlc3VsdHMpO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgdXNlckRhdGEgPSBbXHJcbiAgICB7XCJpZFwiOlwiMVwiLCBcIm5hbWVcIjpcIlNyaW5pdmFzIERhc2FyaVwiLCBcInBsYWNlXCI6XCJDaGVubmFpXCIsIFwicGljXCI6XCJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLW5CcWswakhhaGs4L1ZuTDlFdlQ2SVBJL0FBQUFBQUFBRGRVLzRKQjNBLTF6alRNL3MxNjAtSWM0Mi9zcmluaXZhc19kYXNhcmkuanBnXCJ9LFxyXG4gICAge1wiaWRcIjpcIjJcIiwgXCJuYW1lXCI6XCJTcmluaXZhcyBUYW1hZGFcIiwgXCJwbGFjZVwiOlwiQXRsYW50YVwiLCBcInBpY1wiOlwiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1sa2VibkhHSEdjcy9Wbkw5RTRuT19GSS9BQUFBQUFBQURkWS96MklXR09OTUc4RS9zMTYwLUljNDIvc3Jpbml2YXNfdGFtYWRhLmpwZ1wifSxcclxuICAgIHtcImlkXCI6XCIzXCIsIFwibmFtZVwiOlwiU3JpIEhhcnNoYVwiLCBcInBsYWNlXCI6XCJIeWRlcmFiYWRcIiwgXCJwaWNcIjpcImh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8teDY5eXR2aDhHa0EvVm5MOURxeWUxakkvQUFBQUFBQUFEZE0vcEJEYkpSWDhWeG8vczE2MC1JYzQyL2hhcnNoYS5qcGdcIn0sXHJcbiAgICB7XCJpZFwiOlwiNFwiLCBcIm5hbWVcIjpcIkxva2VzaCBSYWdodXJhbVwiLCBcInBsYWNlXCI6XCJDaGVubmFpXCIsIFwicGljXCI6XCJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLTdYTS1pMjBqN0NRL1ZuTDlFWm5ETFlJL0FBQUFBQUFBRGRRL2tSOTlEVWdSaGFrL3MxNjAtSWM0Mi9sb2tlc2guanBnXCJ9LFxyXG4gICAge1wiaWRcIjpcIjVcIiwgXCJuYW1lXCI6XCJCYWxhIEdhbmVzaFwiLCBcInBsYWNlXCI6XCJDaGVubmFpXCIsIFwicGljXCI6XCJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLXNuenVCR3UwQ0pFL1ZuTDlEa3NZVlNJL0FBQUFBQUFBRGRBLzdZMEV2UWJXYzdJL3MxNjAtSWM0Mi9nYW5lc2guanBnXCJ9LFxyXG4gICAge1wiaWRcIjpcIjZcIiwgXCJuYW1lXCI6XCJBcnVuIGt1bWFyXCIsIFwicGxhY2VcIjpcIkNoZW5uYWlcIiwgXCJwaWNcIjpcImh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8tSGlRNGJxUHAtZmsvVm5MOURxbzd1MEkvQUFBQUFBQUFEZGMvTnFod1hxZ2I0QWMvczE2MC1JYzQyL2FydW4uanBnXCJ9XHJcbl07Ki9cclxuXG4ndXNlIHN0cmljdCdcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgbG9hZF9qc29uX2RhdGEoJ2NvdW50cnknKTtcclxuXHJcbiAgICBmdW5jdGlvbiBsb2FkX2pzb25fZGF0YShpZCwgcGFyZW50X2lkKSB7XHJcbiAgICAgICAgdmFyIGh0bWxfY29kZSA9ICcnO1xyXG5cclxuICAgICAgICAkLmdldEpTT04oJ2NvdW50cnlfc3RhdGVfY2l0eS5qc29uJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICBodG1sX2NvZGUgKz0gJzxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj4nO1xyXG5cclxuICAgICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihpZCA9PT0gJ2NvdW50cnknKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlLnBhcmVudF9pZCA9PT0gJzAnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sX2NvZGUgKz0gJzxvcHRpb24gdmFsdWU9XCInK3ZhbHVlLmlkKydcIj4nK3ZhbHVlLm5hbWUrJzwvb3B0aW9uPic7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUucGFyZW50X2lkID09PSBwYXJlbnRfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPG9wdGlvbiB2YWx1ZT1cIicrdmFsdWUuaWQrJ1wiPicrdmFsdWUubmFtZSsnPC9vcHRpb24+JztcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICQoJyMnK2lkKS5odG1sKGh0bWxfY29kZSk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNjb3VudHJ5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGNvdW50cnlfaWQgPSAkKHRoaXMpLnZhbCgpO1xyXG5cclxuICAgICAgICBpZihjb3VudHJ5X2lkICE9PSAnJylcclxuICAgICAgICAgICAgbG9hZF9qc29uX2RhdGEoJ3N0YXRlJywgY291bnRyeV9pZCk7XHJcblxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgJCgnI3N0YXRlJykuaHRtbCgnPG9wdGlvbiB2YWx1ZT1cIlwiPjwvb3B0aW9uPicpO1xyXG4gICAgICAgICAgICAkKCcjY2l0eScpLmh0bWwoJzxvcHRpb24gdmFsdWU9XCJcIj48L29wdGlvbj4nKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNzdGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGF0ZV9pZCA9ICQodGhpcykudmFsKCk7XHJcblxyXG4gICAgICAgIGlmKHN0YXRlX2lkICE9PSAnJylcclxuICAgICAgICAgICAgbG9hZF9qc29uX2RhdGEoJ2NpdHknLCBzdGF0ZV9pZCk7XHJcblxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgJCgnI2NpdHknKS5odG1sKCc8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IENpdHk8L29wdGlvbj4nKTtcclxuXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuJChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAkKCcgLm1haW4tZm9ybV9fYmxvY2sgc2VsZWN0JykuZm9jdXNvdXQoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHZhciBmb2N1c0ZhbmN5ID0gJCh0aGlzKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYoZm9jdXNGYW5jeSA9PT0gJycpXHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2ZvY3VzRmFuY3knKTtcclxuXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdmb2N1c0ZhbmN5Jyk7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XHJcblxyXG4gICAgfSk7XHJcbiAgICAkKCcuc2VhcmNoLW1haW4tZm9ybScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAkKCcubWFpbi1mb3JtX19ibG9ja19fc2VsZWN0JykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuXHJcbiAgICAgICAgICAgIGlmKCR0aGlzLnZhbCgpLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdlcnJvcicpO1xyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgIH0pO1xyXG4gICAgJCgnLm1haW4tZm9ybV9fYmxvY2tfX3NlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICBpZigkdGhpcy52YWwoKSAhPT0nMCcpXHJcbiAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCdlcnJvcicpO1xyXG5cclxuICAgIH0pO1xyXG5cclxufSk7XG4ndXNlIHN0cmljdCdcclxuXHJcbiQoJyN0eHQtc2VhcmNoJykua2V5dXAoZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWFyY2hGaWVsZCA9ICQodGhpcykudmFsKCk7XHJcbiAgICBpZihzZWFyY2hGaWVsZCA9PT0gJycpICB7XHJcbiAgICAgICAgJCgnI2ZpbHRlci1yZWNvcmRzJykuaHRtbCgnJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgICQuZ2V0SlNPTignc2VhcmNoLWRhdGEuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHNlYXJjaEZpZWxkLCBcImlcIik7XHJcbiAgICAgICAgdmFyIG91dHB1dCA9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLWJsb2NrXCI+JztcclxuICAgICAgICAvL3ZhciBjb3VudCA9IDE7XHJcbiAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChrZXksIHZhbCkge1xyXG4gICAgICAgICAgICBpZiAoKHZhbC50b3VyLnNlYXJjaChyZWdleCkgIT0gLTEpIHx8ICh2YWwubmFtZS5zZWFyY2gocmVnZXgpICE9IC0xKSApIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGRpdiBjbGFzcz1cInNlYXJjaC1yZXN1bHRcIj4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLXJlc3VsdF9faW1hZ2VcIj48aW1nIGNsYXNzPVwic2VhcmNoLXJlc3VsdF9faW1hZ2VfX21haW5cIiBzcmM9XCInICsgdmFsLnRvdXJfaW1hZ2UgKyAnXCIgYWx0PVwiJyArIHZhbC5lbXBsb3llZV9uYW1lICsgJ1wiIC8+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGRpdiBjbGFzcz1cInNlYXJjaC1yZXN1bHRfX2Rlc2NyaXB0aW9uXCI+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGg1IGNsYXNzPVwic2VhcmNoLXJlc3VsdF9fdGl0bGVcIj4nICsgdmFsLm5hbWUgKyAnPC9oNT4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8cCBjbGFzcz1cInNlYXJjaC1yZXN1bHRfX3RleHRcIj4nICsgdmFsLnRvdXJfZGVzY3JpcHRpb24gKyAnPC9wPic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJzZWFyY2gtcmVzdWx0X19saW5rXCI+bW9yZSBkZXRhaWxzPC9hPic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgIC8qICAgICBpZiAoY291bnQgJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2PjxkaXYgY2xhc3M9XCJzZWFyY2gtYmxvY2tcIj4nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb3VudCsrOyovXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBvdXRwdXQgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgJCgnI2ZpbHRlci1yZWNvcmRzJykuaHRtbChvdXRwdXQpO1xyXG5cclxuICAgIH0pO1xyXG59KTtcbid1c2Ugc3RyaWN0J1xyXG4kKGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnLnlvdXR1YmUnKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQodGhpcykuY3NzKCdiYWNrZ3JvdW5kLWltYWdlJywgJ3VybChodHRwOi8vaS55dGltZy5jb20vdmkvJyArIHRoaXMuaWQgKyAnL3NkZGVmYXVsdC5qcGcpJyk7XHJcblxyXG4gICAgICAgICQodGhpcykuYXBwZW5kKCQoJzxkaXYvPicsIHsnY2xhc3MnOiAncGxheSd9KSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLmRlbGVnYXRlKCcjJyt0aGlzLmlkLCAnY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGlmcmFtZV91cmwgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvJyArIHRoaXMuaWQgKyAnP2F1dG9wbGF5PTEmYXV0b2hpZGU9MSZyZWw9MCZmcz0xJztcclxuXHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ3BhcmFtcycpKSBpZnJhbWVfdXJsKz0nJicrJCh0aGlzKS5kYXRhKCdwYXJhbXMnKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgaWZyYW1lID0gJCgnPGlmcmFtZS8+JywgeydmcmFtZWJvcmRlcic6ICcwJywgJ3NyYyc6IGlmcmFtZV91cmwsICd3aWR0aCc6ICQodGhpcykud2lkdGgoKSwgJ2hlaWdodCc6ICQodGhpcykuaGVpZ2h0KCksJ2FsbG93ZnVsbHNjcmVlbic6J2FsbG93ZnVsbHNjcmVlbicgfSlcclxuXHJcbiAgICAgICAgICAgICQodGhpcykucmVwbGFjZVdpdGgoaWZyYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTsiXX0=
