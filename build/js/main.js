function myMap(){myCenter=new google.maps.LatLng(41.878114,-87.629798);var t={center:myCenter,zoom:12,scrollwheel:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("googleMap"),t);new google.maps.Marker({position:myCenter}).setMap(e)}!function(r){var s={startPos:function(t,e){return t*e},getPage:function(t,e,a){var i=[];t=t.slice(e,t.length);for(var o=0;o<a;o++)i.push(t[o]);return i},totalPages:function(t,e){return Math.ceil(t.length/e)},createBtns:function(t,e){var a=r('<div class="pagination" />');a.append('<span class="pagination-button">&laquo;</span>');for(var i=1;i<=t;i++){if(5<t&&e!==i)if(1===e||2===e){if(5<i)continue}else if(e===t||e===t-1){if(i<t-4)continue}else if(i<e-2||e+2<i)continue;var o=r('<span class="pagination-button page-num" />');i==e&&o.addClass("active"),o.text(i),a.append(o)}return a.append(r('<span class="pagination-button">&raquo;</span>')),a},createPage:function(t,e,a){r(".pagination").remove();var i=t.parent(),o=(t=t.detach().toArray(),this.startPos(e-1,a)),n=this.getPage(t,o,a);r.each(n,function(){void 0===this.window&&i.append(r(this))});var s=this.totalPages(t,a),c=this.createBtns(s,e);i.after(c)}};r.fn.paginate=function(o){var n=r(this);if((isNaN(o)||void 0===o)&&(o=5),n.length<=o)return!0;n.length!==n.parent()[0].children.length&&n.wrapAll('<div class="pagination-items" />'),s.createPage(n,1,o),r(document).on("click",".pagination-button",function(t){var e=parseInt(r(".pagination-button.active").text(),10),a=s.totalPages(n,o),i=r(t.target);e=parseInt(i.text(),10),"«"==i.text()&&(e=1),"»"==i.text()&&(e=a),0<e&&e<=a&&s.createPage(n,e,o)})}}(jQuery),$(".article-loop").paginate(2),$(document).ready(function(){$(".image").click(function(){var t=$(this).attr("src");$("body").append("<div class='popup'><div class='popup_bg'></div><img src='"+t+"' class='popup_img' /></div>"),$(".popup").fadeIn(800),$(".popup_bg").click(function(){$(".popup").fadeOut(800),setTimeout(function(){$(".popup").remove()},800)})})}),$(document).ready(function(){$(".container--first").owlCarousel({loop:!0,items:1,autoplay:!0,margin:30,dots:!0,nav:!0,autoplayTimeout:1e4,smartSpeed:5e3,navSpeed:5e3,touchDrag:!0,mouseDrag:!0})}),$(document).ready(function(){function e(a,i){var o="";$.getJSON("country_state_city.json",function(t){o+='<option value="">Select '+a+"</option>",$.each(t,function(t,e){"country"===a?"0"===e.parent_id&&(o+='<option value="'+e.id+'">'+e.name+"</option>"):e.parent_id===i&&(o+='<option value="'+e.id+'">'+e.name+"</option>")}),$("#"+a).html(o)})}e("country"),$(document).on("change","#country",function(){var t=$(this).val();""!==t?e("state",t):$("#state").html('<option value=""></option>'),$("#city").html('<option value=""></option>')}),$(document).on("change","#state",function(){var t=$(this).val();""!==t?e("city",t):$("#city").html('<option value="">Select City</option>')})}),$(function(){$(".form-signup").focusout(function(){""===$(this).val()?$(this).removeClass("focusFancy"):$(this).addClass("focusFancy"),$(this).removeClass("error")}),$(".search-main-form").on("click",function(){$(".main-form__block__select").each(function(){var t=$(this);0===t.val().length&&t.addClass("error")})}),$(".main-form__block__select").change(function(){var t=$(this);"0"!==t.val()&&t.removeClass("error")})}),$(document).ready(function(){$(".cards__item").click(function(){var t=$(this).find(".card__image__img"),e=$(this).find(".card__text"),a=$(this).find(".card__title"),i=e[0].childNodes[0].nodeValue,o=a[0].childNodes[0].nodeValue,n=t.attr("src");$("body").append("<div class='popup'><div class='popup_bg'></div><div class='popup_body'><span class='close-button close-popup-tour'><div class='in'><div class='close-button-block'></div><div class='close-button-block'></div></div><div class='out'><div class='close-button-block'></div><div class='close-button-block'></div></div></span><img src='"+n+"' class='popup_image' /><div class='popup_body_description'><div class='description-title'></div><div class='description-cards'></div></div></div></div>"),$(".description-cards").html(i),$(".description-title").html(o),$(".popup").fadeIn(800),$(".popup_bg").click(function(){$(".popup").fadeOut(800),setTimeout(function(){$(".popup").remove()},800)}),$(".close-popup-tour").click(function(){$(".popup").fadeOut(1e3),setTimeout(function(){$(".popup").remove()},1e3)})})}),$(document).ready(function(e){e(".hamburger").on("click",function(t){t.preventDefault(),e(".mobile-navigation").addClass("is-visible")}),e(".close-popup-menu").click(function(){e(".mobile-navigation").removeClass("is-visible")}),e(document).keyup(function(t){"27"===t.which&&e(".mobile-navigation").removeClass("is-visible")})}),$("#txt-search").keyup(function(){var e=$(this).val();""!==e?$.getJSON("search-data.json",function(t){var a=new RegExp(e,"i"),i='<div class="search-block">';$.each(t,function(t,e){-1==e.tour.search(a)&&-1==e.name.search(a)||(i+='<div class="search-result">',i+='<div class="search-result__image"><img class="search-result__image__main" src="'+e.tour_image+'" alt="'+e.employee_name+'" /></div>',i+='<div class="search-result__description">',i+='<h5 class="search-result__title">'+e.name+"</h5>",i+='<p class="search-result__text">'+e.tour_description+"</p>",i+='<a href="#" class="search-result__link">more details</a>',i+="</div>",i+="</div>")}),i+="</div>",$("#filter-records").html(i)}):$("#filter-records").html("")}),$(function(){$(".youtube").each(function(){$(this).css("background-image","url(http://i.ytimg.com/vi/"+this.id+"/sddefault.jpg)"),$(this).append($("<div/>",{class:"play"})),$(document).delegate("#"+this.id,"click",function(){var t="https://www.youtube.com/embed/"+this.id+"?autoplay=1&autohide=1&rel=0&fs=1";$(this).data("params")&&(t+="&"+$(this).data("params"));var e=$("<iframe/>",{frameborder:"0",src:t,width:$(this).width(),height:$(this).height(),allowfullscreen:"allowfullscreen"});$(this).replaceWith(e)})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibXlNYXAiLCJteUNlbnRlciIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwiZHJhZ2dhYmxlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsIm1hcCIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldE1hcCIsIiQiLCJwYWdpbmF0ZSIsInN0YXJ0UG9zIiwicGFnZU51bWJlciIsInBlclBhZ2UiLCJnZXRQYWdlIiwiaXRlbXMiLCJwYWdlIiwic2xpY2UiLCJsZW5ndGgiLCJpIiwicHVzaCIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImNyZWF0ZUJ0bnMiLCJjdXJyZW50UGFnZSIsInBhZ2luYXRpb24iLCJhcHBlbmQiLCJwYWdlQnRuIiwiYWRkQ2xhc3MiLCJ0ZXh0IiwiY3JlYXRlUGFnZSIsInJlbW92ZSIsImNvbnRhaW5lciIsInBhcmVudCIsImRldGFjaCIsInRvQXJyYXkiLCJ0aGlzIiwiZWFjaCIsInVuZGVmaW5lZCIsIndpbmRvdyIsInBhZ2VCdXR0b25zIiwiYWZ0ZXIiLCJmbiIsImlzTmFOIiwiY2hpbGRyZW4iLCJ3cmFwQWxsIiwib24iLCJlIiwibmV3UGFnZSIsInBhcnNlSW50IiwidGFyZ2V0IiwialF1ZXJ5IiwicmVhZHkiLCJjbGljayIsInNyYyIsImF0dHIiLCJmYWRlSW4iLCJmYWRlT3V0Iiwic2V0VGltZW91dCIsIm93bENhcm91c2VsIiwibG9vcCIsImF1dG9wbGF5IiwibWFyZ2luIiwiZG90cyIsIm5hdiIsImF1dG9wbGF5VGltZW91dCIsInNtYXJ0U3BlZWQiLCJuYXZTcGVlZCIsInRvdWNoRHJhZyIsIm1vdXNlRHJhZyIsImxvYWRfanNvbl9kYXRhIiwiaWQiLCJwYXJlbnRfaWQiLCJodG1sX2NvZGUiLCJnZXRKU09OIiwiZGF0YSIsImtleSIsInZhbHVlIiwibmFtZSIsImh0bWwiLCJjb3VudHJ5X2lkIiwidmFsIiwic3RhdGVfaWQiLCJmb2N1c291dCIsInJlbW92ZUNsYXNzIiwiJHRoaXMiLCJjaGFuZ2UiLCJpbWciLCJmaW5kIiwiZGVzY3JpcHRpb24iLCJ0aXRsZSIsImRlc2NyaXB0aW9UZXh0IiwiY2hpbGROb2RlcyIsIm5vZGVWYWx1ZSIsImRlc2NyaXB0aW9UaXRsZSIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJrZXl1cCIsIndoaWNoIiwic2VhcmNoRmllbGQiLCJyZWdleCIsIlJlZ0V4cCIsIm91dHB1dCIsInRvdXIiLCJzZWFyY2giLCJ0b3VyX2ltYWdlIiwiZW1wbG95ZWVfbmFtZSIsInRvdXJfZGVzY3JpcHRpb24iLCJjc3MiLCJjbGFzcyIsImRlbGVnYXRlIiwiaWZyYW1lX3VybCIsImlmcmFtZSIsImZyYW1lYm9yZGVyIiwid2lkdGgiLCJoZWlnaHQiLCJhbGxvd2Z1bGxzY3JlZW4iLCJyZXBsYWNlV2l0aCJdLCJtYXBwaW5ncyI6IkFBc0tBLFNBQVNBLFFBRUxDLFNBQVMsSUFBSUMsT0FBT0MsS0FBS0MsT0FBTyxXQUFZLFdBQzVDLElBQUlDLEVBQVksQ0FDWkMsT0FBT0wsU0FDUE0sS0FBSyxHQUFJQyxhQUFhLEVBQU9DLFdBQVcsRUFDeENDLFVBQVVSLE9BQU9DLEtBQUtRLFVBQVVDLFNBRWhDQyxFQUFJLElBQUlYLE9BQU9DLEtBQUtXLElBQUlDLFNBQVNDLGVBQWUsYUFBYVgsR0FFcEQsSUFBSUgsT0FBT0MsS0FBS2MsT0FBTyxDQUNoQ0MsU0FBVWpCLFdBRVBrQixPQUFPTixJQWxMbEIsU0FBVU8sR0FDTixJQUFJQyxFQUFXLENBQ1hDLFNBQVUsU0FBU0MsRUFBWUMsR0FHM0IsT0FBT0QsRUFBYUMsR0FHeEJDLFFBQVMsU0FBU0MsRUFBT0osRUFBVUUsR0FFL0IsSUFBSUcsRUFBTyxHQUdYRCxFQUFRQSxFQUFNRSxNQUFNTixFQUFVSSxFQUFNRyxRQUdwQyxJQUFLLElBQUlDLEVBQUUsRUFBR0EsRUFBSU4s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eUQsRUFBWUcsTUFBUzFHLEVBQUU0QixNQUFNOEUsUUFBU0MsT0FBVTNHLEVBQUU0QixNQUFNK0UsU0FBU0MsZ0JBQWtCLG9CQUUzSTVHLEVBQUU0QixNQUFNaUYsWUFBWUwiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4oZnVuY3Rpb24oJCl7XHJcbiAgICB2YXIgcGFnaW5hdGUgPSB7XHJcbiAgICAgICAgc3RhcnRQb3M6IGZ1bmN0aW9uKHBhZ2VOdW1iZXIsIHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHdoYXQgYXJyYXkgcG9zaXRpb24gdG8gc3RhcnQgZnJvbVxyXG4gICAgICAgICAgICAvLyBiYXNlZCBvbiBjdXJyZW50IHBhZ2UgYW5kICMgcGVyIHBhZ2VcclxuICAgICAgICAgICAgcmV0dXJuIHBhZ2VOdW1iZXIgKiBwZXJQYWdlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGdldFBhZ2U6IGZ1bmN0aW9uKGl0ZW1zLCBzdGFydFBvcywgcGVyUGFnZSkge1xyXG4gICAgICAgICAgICAvLyBkZWNsYXJlIGFuIGVtcHR5IGFycmF5IHRvIGhvbGQgb3VyIHBhZ2UgaXRlbXNcclxuICAgICAgICAgICAgdmFyIHBhZ2UgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIC8vIG9ubHkgZ2V0IGl0ZW1zIGFmdGVyIHRoZSBzdGFydGluZyBwb3NpdGlvblxyXG4gICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLnNsaWNlKHN0YXJ0UG9zLCBpdGVtcy5sZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgLy8gbG9vcCByZW1haW5pbmcgaXRlbXMgdW50aWwgbWF4IHBlciBwYWdlXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaSA8IHBlclBhZ2U7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgcGFnZS5wdXNoKGl0ZW1zW2ldKTsgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgdG90YWxQYWdlczogZnVuY3Rpb24oaXRlbXMsIHBlclBhZ2UpIHtcclxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHRvdGFsIG51bWJlciBvZiBwYWdlc1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKGl0ZW1zLmxlbmd0aCAvIHBlclBhZ2UpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNyZWF0ZUJ0bnM6IGZ1bmN0aW9uKHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBidXR0b25zIHRvIG1hbmlwdWxhdGUgY3VycmVudCBwYWdlXHJcbiAgICAgICAgICAgIHZhciBwYWdpbmF0aW9uID0gJCgnPGRpdiBjbGFzcz1cInBhZ2luYXRpb25cIiAvPicpO1xyXG5cclxuICAgICAgICAgICAgLy8gYWRkIGEgXCJmaXJzdFwiIGJ1dHRvblxyXG4gICAgICAgICAgICBwYWdpbmF0aW9uLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJwYWdpbmF0aW9uLWJ1dHRvblwiPiZsYXF1bzs8L3NwYW4+Jyk7XHJcblxyXG4gICAgICAgICAgICAvLyBhZGQgcGFnZXMgaW5iZXR3ZWVuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGk9MTsgaSA8PSB0b3RhbFBhZ2VzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vIHRydW5jYXRlIGxpc3Qgd2hlbiB0b28gbGFyZ2VcclxuICAgICAgICAgICAgICAgIGlmICh0b3RhbFBhZ2VzID4gNSAmJiBjdXJyZW50UGFnZSAhPT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIG9uIGZpcnN0IHR3byBwYWdlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PT0gMSB8fCBjdXJyZW50UGFnZSA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IGZpcnN0IDUgcGFnZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiA1KSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgb24gbGFzdCB0d28gcGFnZXNcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzIHx8IGN1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IGxhc3QgNSBwYWdlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHRvdGFsUGFnZXMgLSA0KSBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHNob3cgNSBwYWdlcyB3LyBjdXJyZW50IGluIG1pZGRsZVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgY3VycmVudFBhZ2UgLSAyIHx8IGkgPiBjdXJyZW50UGFnZSArIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIG1hcmt1cCBmb3IgcGFnZSBidXR0b25cclxuICAgICAgICAgICAgICAgIHZhciBwYWdlQnRuID0gJCgnPHNwYW4gY2xhc3M9XCJwYWdpbmF0aW9uLWJ1dHRvbiBwYWdlLW51bVwiIC8+Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGFjdGl2ZSBjbGFzcyBmb3IgY3VycmVudCBwYWdlXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBjdXJyZW50UGFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VCdG4uYWRkQ2xhc3MoJ2FjdGl2ZScpOyB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2V0IHRleHQgdG8gdGhlIHBhZ2UgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICBwYWdlQnRuLnRleHQoaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWRkIGJ1dHRvbiB0byB0aGUgY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uLmFwcGVuZChwYWdlQnRuKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYWRkIGEgXCJsYXN0XCIgYnV0dG9uXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb24uYXBwZW5kKCQoJzxzcGFuIGNsYXNzPVwicGFnaW5hdGlvbi1idXR0b25cIj4mcmFxdW87PC9zcGFuPicpKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYWdpbmF0aW9uO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNyZWF0ZVBhZ2U6IGZ1bmN0aW9uKGl0ZW1zLCBjdXJyZW50UGFnZSwgcGVyUGFnZSkge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgcGFnaW5hdGlvbiBmcm9tIHRoZSBwYWdlXHJcbiAgICAgICAgICAgICQoJy5wYWdpbmF0aW9uJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgY29udGV4dCBmb3IgdGhlIGl0ZW1zXHJcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBpdGVtcy5wYXJlbnQoKSxcclxuICAgICAgICAgICAgICAgIC8vIGRldGFjaCBpdGVtcyBmcm9tIHRoZSBwYWdlIGFuZCBjYXN0IGFzIGFycmF5XHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLmRldGFjaCgpLnRvQXJyYXkoKSxcclxuICAgICAgICAgICAgICAgIC8vIGdldCBzdGFydCBwb3NpdGlvbiBhbmQgc2VsZWN0IGl0ZW1zIGZvciBwYWdlXHJcbiAgICAgICAgICAgICAgICBzdGFydFBvcyA9IHRoaXMuc3RhcnRQb3MoY3VycmVudFBhZ2UgLSAxLCBwZXJQYWdlKSxcclxuICAgICAgICAgICAgICAgIHBhZ2UgPSB0aGlzLmdldFBhZ2UoaXRlbXMsIHN0YXJ0UG9zLCBwZXJQYWdlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxvb3AgaXRlbXMgYW5kIHJlYWRkIHRvIHBhZ2VcclxuICAgICAgICAgICAgJC5lYWNoKHBhZ2UsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAvLyBwcmV2ZW50IGVtcHR5IGl0ZW1zIHRoYXQgcmV0dXJuIGFzIFdpbmRvd1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2luZG93ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kKCQodGhpcykpOyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gcHJlcCBwYWdpbmF0aW9uIGJ1dHRvbnMgYW5kIGFkZCB0byBwYWdlXHJcbiAgICAgICAgICAgIHZhciB0b3RhbFBhZ2VzID0gdGhpcy50b3RhbFBhZ2VzKGl0ZW1zLCBwZXJQYWdlKSxcclxuICAgICAgICAgICAgICAgIHBhZ2VCdXR0b25zID0gdGhpcy5jcmVhdGVCdG5zKHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZnRlcihwYWdlQnV0dG9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzdHVmZiBpdCBhbGwgaW50byBhIGpRdWVyeSBtZXRob2QhXHJcbiAgICAkLmZuLnBhZ2luYXRlID0gZnVuY3Rpb24ocGVyUGFnZSkge1xyXG4gICAgICAgIHZhciBpdGVtcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGRlZmF1bHQgcGVyUGFnZSB0byA1XHJcbiAgICAgICAgaWYgKGlzTmFOKHBlclBhZ2UpIHx8IHBlclBhZ2UgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwZXJQYWdlID0gNTsgfVxyXG5cclxuICAgICAgICAvLyBkb24ndCBmaXJlIGlmIGZld2VyIGl0ZW1zIHRoYW4gcGVyUGFnZVxyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPD0gcGVyUGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgfVxyXG5cclxuICAgICAgICAvLyBlbnN1cmUgaXRlbXMgc3RheSBpbiB0aGUgc2FtZSBET00gcG9zaXRpb25cclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoICE9PSBpdGVtcy5wYXJlbnQoKVswXS5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaXRlbXMud3JhcEFsbCgnPGRpdiBjbGFzcz1cInBhZ2luYXRpb24taXRlbXNcIiAvPicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcGFnaW5hdGUgdGhlIGl0ZW1zIHN0YXJ0aW5nIGF0IHBhZ2UgMVxyXG4gICAgICAgIHBhZ2luYXRlLmNyZWF0ZVBhZ2UoaXRlbXMsIDEsIHBlclBhZ2UpO1xyXG5cclxuICAgICAgICAvLyBoYW5kbGUgY2xpY2sgZXZlbnRzIG9uIHRoZSBidXR0b25zXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5wYWdpbmF0aW9uLWJ1dHRvbicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgLy8gZ2V0IGN1cnJlbnQgcGFnZSBmcm9tIGFjdGl2ZSBidXR0b25cclxuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlID0gcGFyc2VJbnQoJCgnLnBhZ2luYXRpb24tYnV0dG9uLmFjdGl2ZScpLnRleHQoKSwgMTApLFxyXG4gICAgICAgICAgICAgICAgbmV3UGFnZSA9IGN1cnJlbnRQYWdlLFxyXG4gICAgICAgICAgICAgICAgdG90YWxQYWdlcyA9IHBhZ2luYXRlLnRvdGFsUGFnZXMoaXRlbXMsIHBlclBhZ2UpLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gJChlLnRhcmdldCk7XHJcblxyXG4gICAgICAgICAgICAvLyBnZXQgbnVtYmVyZWQgcGFnZVxyXG4gICAgICAgICAgICBuZXdQYWdlID0gcGFyc2VJbnQodGFyZ2V0LnRleHQoKSwgMTApO1xyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnRleHQoKSA9PSAnwqsnKSBuZXdQYWdlID0gMTtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC50ZXh0KCkgPT0gJ8K7JykgbmV3UGFnZSA9IHRvdGFsUGFnZXM7XHJcblxyXG4gICAgICAgICAgICAvLyBlbnN1cmUgbmV3UGFnZSBpcyBpbiBhdmFpbGFibGUgcmFuZ2VcclxuICAgICAgICAgICAgaWYgKG5ld1BhZ2UgPiAwICYmIG5ld1BhZ2UgPD0gdG90YWxQYWdlcykge1xyXG4gICAgICAgICAgICAgICAgcGFnaW5hdGUuY3JlYXRlUGFnZShpdGVtcywgbmV3UGFnZSwgcGVyUGFnZSk7IH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG59KShqUXVlcnkpO1xyXG4kKCcuYXJ0aWNsZS1sb29wJykucGFnaW5hdGUoMik7XHJcbi8qPT09PT09PT09PT09PT09PT09PT09PT09cG9wIHVwIGltYWdlPT09PT09PT09PT09PT09PSovXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICQoXCIuaW1hZ2VcIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgaW1nID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgc3JjID0gaW1nLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgICQoXCJib2R5XCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J3BvcHVwJz5cIitcclxuICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdwb3B1cF9iZyc+PC9kaXY+XCIrXHJcbiAgICAgICAgICAgIFwiPGltZyBzcmM9J1wiK3NyYytcIicgY2xhc3M9J3BvcHVwX2ltZycgLz5cIitcclxuICAgICAgICAgICAgXCI8L2Rpdj5cIik7XHJcbiAgICAgICAgJChcIi5wb3B1cFwiKS5mYWRlSW4oODAwKTtcclxuICAgICAgICAkKFwiLnBvcHVwX2JnXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoXCIucG9wdXBcIikuZmFkZU91dCg4MDApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgJChcIi5wb3B1cFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSwgODAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTtcbid1c2Ugc3RyaWN0J1xyXG5cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09TUFQPT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuZnVuY3Rpb24gbXlNYXAoKVxyXG57XHJcbiAgICBteUNlbnRlcj1uZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDQxLjg3ODExNCwgLTg3LjYyOTc5OCk7XHJcbiAgICB2YXIgbWFwT3B0aW9ucz0ge1xyXG4gICAgICAgIGNlbnRlcjpteUNlbnRlcixcclxuICAgICAgICB6b29tOjEyLCBzY3JvbGx3aGVlbDogZmFsc2UsIGRyYWdnYWJsZTogZmFsc2UsXHJcbiAgICAgICAgbWFwVHlwZUlkOmdvb2dsZS5tYXBzLk1hcFR5cGVJZC5ST0FETUFQXHJcbiAgICB9O1xyXG4gICAgdmFyIG1hcD1uZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ29vZ2xlTWFwXCIpLG1hcE9wdGlvbnMpO1xyXG5cclxuICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjogbXlDZW50ZXIsXHJcbiAgICB9KTtcclxuICAgIG1hcmtlci5zZXRNYXAobWFwKTtcclxuXHJcbn1cclxuXG4ndXNlIHN0cmljdCdcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnLmNvbnRhaW5lci0tZmlyc3QnKS5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBpdGVtczogMSxcclxuICAgICAgICBhdXRvcGxheTogdHJ1ZSxcclxuICAgICAgICBtYXJnaW46IDMwLFxyXG4gICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5VGltZW91dDogMTAwMDAsXHJcbiAgICAgICAgc21hcnRTcGVlZDogNTAwMCxcclxuICAgICAgICBuYXZTcGVlZDogNTAwMCxcclxuICAgICAgICB0b3VjaERyYWc6IHRydWUsXHJcbiAgICAgICAgbW91c2VEcmFnOiB0cnVlXHJcbiAgICB9KVxyXG59KVxuJ3VzZSBzdHJpY3QnXHJcblxyXG4vKlxyXG52YXIgZGF0YSA9IFtcclxuICAgIHtcclxuICAgICAgICBcImlkXCI6XCIxXCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9uYW1lXCI6XCJUaWdlciBOaXhvblwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfc2FsYXJ5XCI6XCIzMjA4MDBcIixcclxuICAgICAgICBcImVtcGxveWVlX2FnZVwiOlwiNjFcIixcclxuICAgICAgICBcInByb2ZpbGVfaW1hZ2VcIjpcImRlZmF1bHRfcHJvZmlsZS5wbmdcIlxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBcImlkXCI6XCIyXCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9uYW1lXCI6XCJHYXJyZXR0IFdpbnRlcnNcIixcclxuICAgICAgICBcImVtcGxveWVlX3NhbGFyeVwiOlwiNDM0MzQzXCIsXHJcbiAgICAgICAgXCJlbXBsb3llZV9hZ2VcIjpcIjYzXCIsXHJcbiAgICAgICAgXCJwcm9maWxlX2ltYWdlXCI6XCJkZWZhdWx0X3Byb2ZpbGUucG5nXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgXCJpZFwiOlwiM1wiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfbmFtZVwiOlwiQXNodG9uIENveFwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfc2FsYXJ5XCI6XCI4NjAwMFwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfYWdlXCI6XCI2NlwiLFxyXG4gICAgICAgIFwicHJvZmlsZV9pbWFnZVwiOlwiZGVmYXVsdF9wcm9maWxlLnBuZ1wiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIFwiaWRcIjpcIjRcIixcclxuICAgICAgICBcImVtcGxveWVlX25hbWVcIjpcIkNlZHJpYyBLZWxseVwiLFxyXG4gICAgICAgIFwiZW1wbG95ZWVfc2FsYXJ5XCI6XCI0MzMwNjBcIixcclxuICAgICAgICBcImVtcGxveWVlX2FnZVwiOlwiMjJcIixcclxuICAgICAgICBcInByb2ZpbGVfaW1hZ2VcIjpcImRlZmF1bHRfcHJvZmlsZS5wbmdcIlxyXG4gICAgfVxyXG5dO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4kKCcjdHh0LXNlYXJjaCcpLmtleXVwKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VhcmNoRmllbGQgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgaWYoc2VhcmNoRmllbGQgPT09ICcnKSAge1xyXG4gICAgICAgICQoJyNmaWx0ZXItcmVjb3JkcycpLmh0bWwoJycpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAkLmdldEpTT04oJ3NlYXJjaC1kYXRhLmpzb24nLCBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChzZWFyY2hGaWVsZCwgXCJpXCIpO1xyXG4gICAgICAgIHZhciBvdXRwdXQgPSAnPGRpdiBjbGFzcz1cInNlYXJjaC1ibG9ja1wiPic7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gMTtcclxuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGtleSwgdmFsKSB7XHJcbiAgICAgICAgICAgIGlmICgodmFsLmVtcGxveWVlX3NhbGFyeS5zZWFyY2gocmVnZXgpICE9IC0xKSB8fCAodmFsLmVtcGxveWVlX25hbWUuc2VhcmNoKHJlZ2V4KSAhPSAtMSkpIHtcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGRpdiBjbGFzcz1cInNlYXJjaC1yZXN1bHRcIj4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLXJlc3VsdF9faW1hZ2VcIj48aW1nIGNsYXNzPVwic2VhcmNoLXJlc3VsdF9faW1hZ2VfX21haW5cIiBzcmM9XCInICsgdmFsLnByb2ZpbGVfaW1hZ2UgKyAnXCIgYWx0PVwiJyArIHZhbC5lbXBsb3llZV9uYW1lICsgJ1wiIC8+PC9kaXY+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGRpdiBjbGFzcz1cInNlYXJjaC1yZXN1bHRfX2Rlc2NyaXB0aW9uXCI+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGg1PicgKyB2YWwuZW1wbG95ZWVfbmFtZSArICc8L2g1Pic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzxwPicgKyB2YWwuZW1wbG95ZWVfc2FsYXJ5ICsgJzwvcD4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8YSBocmVmPVwiI1wiPm1vcmUgZGV0YWlsPC9hPic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2Pic7XHJcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgJSAyID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzwvZGl2PjxkaXYgY2xhc3M9XCJzZWFyY2gtcmVzdWx0XCI+J1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcclxuICAgICAgICAkKCcjZmlsdGVyLXJlY29yZHMnKS5odG1sKG91dHB1dCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59KTtcclxuKi9cclxuLypcclxuXHJcbnZhciBzZWFyY2hWYWwgPSAnJztcclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIC8vIGlmIHRleHQgYm94IHZhbHVlIGlzIG5vdCBudWxsLCB0aGVuIGRhcmtlbiByZXNldCBpY29uXHJcbiAgICAkKFwiLnNsaW5wdXQgaW5wdXRcIikua2V5dXAoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdmFsID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICBpZih2YWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCIucmlnaHQtaWNvblwiKS5jc3MoJ2NvbG9yJywnIzU1NScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50KCkuZmluZChcIi5yaWdodC1pY29uXCIpLmNzcygnY29sb3InLCcjY2NjJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaWYgdXNlciBjbGljayBvbiByZXNldCBpY29uLCBjbGVhciB0ZXh0IGZpZWxkXHJcbiAgICAkKFwiLnNsaW5wdXQgLnJpZ2h0LWljb25cIikuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJpbnB1dFwiKS52YWwoJycpO1xyXG4gICAgICAgICQodGhpcykuY3NzKCdjb2xvcicsJyNjY2MnKTtcclxuICAgICAgICBsb2FkRGF0YSh1c2VyRGF0YSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsb2FkRGF0YSh1c2VyRGF0YSk7XHJcbn0pO1xyXG5cclxuLy8gRGlzcGxheWluZyBJbmZvcm1hdGlvbiB0byBVc2Vyc1xyXG5mdW5jdGlvbiBsb2FkRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgaHRtbERhdGEgPSAnJztcclxuICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihpbmRleCwgdmFsKXtcclxuICAgICAgICBodG1sRGF0YSArPSAnPGRpdiBjbGFzcz1cIm1lZGlhIHVzZXJcIj4nK1xyXG4gICAgICAgICAgICAnICA8ZGl2IGNsYXNzPVwibWVkaWEtbGVmdFwiPicrXHJcbiAgICAgICAgICAgICcgICAgPGEgaHJlZj1cIiNcIj4nK1xyXG4gICAgICAgICAgICAnICAgICAgPGltZyBjbGFzcz1cIm1lZGlhLW9iamVjdFwiIHNyYz1cIicrdmFsLnBpYysnXCIgYWx0PVwiLi4uXCI+JytcclxuICAgICAgICAgICAgJyAgICA8L2E+JytcclxuICAgICAgICAgICAgJyAgPC9kaXY+JytcclxuICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj4nK1xyXG4gICAgICAgICAgICAnICAgIDxoNCBjbGFzcz1cIm1lZGlhLWhlYWRpbmdcIj4nK3ZhbC5uYW1lKyc8L2g0PicrXHJcbiAgICAgICAgICAgICcgICAgJyt2YWwucGxhY2UrXHJcbiAgICAgICAgICAgICcgIDwvZGl2PicrXHJcbiAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgfSk7XHJcbiAgICAkKFwiI3VzZXJzXCIpLmh0bWwoaHRtbERhdGEpO1xyXG59XHJcblxyXG4vLyBTZWFyY2ggdXNlcnMgZGF0YSBiYXNlZCBpbnB1dCBzZWFyY2gga2V5d29yZFxyXG5mdW5jdGlvbiBzZWFyY2hVc2VycygpIHtcclxuICAgIHZhciB2YWwgPSAkKFwiI3NlYXJjaElucHV0XCIpLnZhbCgpO1xyXG4gICAgaWYodmFsID09IHNlYXJjaFZhbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VhcmNoVmFsID0gdmFsO1xyXG4gICAgICAgIHZhciBzZWFyY2hSZXN1bHRzID0ge307XHJcbiAgICAgICAgc2VhcmNoUmVzdWx0cyA9IFtdO1xyXG4gICAgICAgICQuZWFjaCh1c2VyRGF0YSwgZnVuY3Rpb24oaSwgdikge1xyXG4gICAgICAgICAgICBpZiAodi5uYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih2YWwpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBzZWFyY2hSZXN1bHRzLnB1c2godik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBsb2FkRGF0YShzZWFyY2hSZXN1bHRzKTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIHVzZXJEYXRhID0gW1xyXG4gICAge1wiaWRcIjpcIjFcIiwgXCJuYW1lXCI6XCJTcmluaXZhcyBEYXNhcmlcIiwgXCJwbGFjZVwiOlwiQ2hlbm5haVwiLCBcInBpY1wiOlwiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1uQnFrMGpIYWhrOC9Wbkw5RXZUNklQSS9BQUFBQUFBQURkVS80SkIzQS0xempUTS9zMTYwLUljNDIvc3Jpbml2YXNfZGFzYXJpLmpwZ1wifSxcclxuICAgIHtcImlkXCI6XCIyXCIsIFwibmFtZVwiOlwiU3Jpbml2YXMgVGFtYWRhXCIsIFwicGxhY2VcIjpcIkF0bGFudGFcIiwgXCJwaWNcIjpcImh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS8tbGtlYm5IR0hHY3MvVm5MOUU0bk9fRkkvQUFBQUFBQUFEZFkvejJJV0dPTk1HOEUvczE2MC1JYzQyL3NyaW5pdmFzX3RhbWFkYS5qcGdcIn0sXHJcbiAgICB7XCJpZFwiOlwiM1wiLCBcIm5hbWVcIjpcIlNyaSBIYXJzaGFcIiwgXCJwbGFjZVwiOlwiSHlkZXJhYmFkXCIsIFwicGljXCI6XCJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLXg2OXl0dmg4R2tBL1ZuTDlEcXllMWpJL0FBQUFBQUFBRGRNL3BCRGJKUlg4VnhvL3MxNjAtSWM0Mi9oYXJzaGEuanBnXCJ9LFxyXG4gICAge1wiaWRcIjpcIjRcIiwgXCJuYW1lXCI6XCJMb2tlc2ggUmFnaHVyYW1cIiwgXCJwbGFjZVwiOlwiQ2hlbm5haVwiLCBcInBpY1wiOlwiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy03WE0taTIwajdDUS9Wbkw5RVpuRExZSS9BQUFBQUFBQURkUS9rUjk5RFVnUmhhay9zMTYwLUljNDIvbG9rZXNoLmpwZ1wifSxcclxuICAgIHtcImlkXCI6XCI1XCIsIFwibmFtZVwiOlwiQmFsYSBHYW5lc2hcIiwgXCJwbGFjZVwiOlwiQ2hlbm5haVwiLCBcInBpY1wiOlwiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tLy1zbnp1Qkd1MENKRS9Wbkw5RGtzWVZTSS9BQUFBQUFBQURkQS83WTBFdlFiV2M3SS9zMTYwLUljNDIvZ2FuZXNoLmpwZ1wifSxcclxuICAgIHtcImlkXCI6XCI2XCIsIFwibmFtZVwiOlwiQXJ1biBrdW1hclwiLCBcInBsYWNlXCI6XCJDaGVubmFpXCIsIFwicGljXCI6XCJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vLUhpUTRicVBwLWZrL1ZuTDlEcW83dTBJL0FBQUFBQUFBRGRjL05xaHdYcWdiNEFjL3MxNjAtSWM0Mi9hcnVuLmpwZ1wifVxyXG5dOyovXHJcblxuJ3VzZSBzdHJpY3QnXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIGxvYWRfanNvbl9kYXRhKCdjb3VudHJ5Jyk7XHJcblxyXG4gICAgZnVuY3Rpb24gbG9hZF9qc29uX2RhdGEoaWQsIHBhcmVudF9pZCkge1xyXG4gICAgICAgIHZhciBodG1sX2NvZGUgPSAnJztcclxuXHJcbiAgICAgICAgJC5nZXRKU09OKCdjb3VudHJ5X3N0YXRlX2NpdHkuanNvbicsIGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgaHRtbF9jb2RlICs9ICc8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0ICcraWQrJzwvb3B0aW9uPic7XHJcblxyXG4gICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGlkID09PSAnY291bnRyeScpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodmFsdWUucGFyZW50X2lkID09PSAnMCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxfY29kZSArPSAnPG9wdGlvbiB2YWx1ZT1cIicrdmFsdWUuaWQrJ1wiPicrdmFsdWUubmFtZSsnPC9vcHRpb24+JztcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS5wYXJlbnRfaWQgPT09IHBhcmVudF9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbF9jb2RlICs9ICc8b3B0aW9uIHZhbHVlPVwiJyt2YWx1ZS5pZCsnXCI+Jyt2YWx1ZS5uYW1lKyc8L29wdGlvbj4nO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnIycraWQpLmh0bWwoaHRtbF9jb2RlKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2NvdW50cnknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgY291bnRyeV9pZCA9ICQodGhpcykudmFsKCk7XHJcblxyXG4gICAgICAgIGlmKGNvdW50cnlfaWQgIT09ICcnKVxyXG4gICAgICAgICAgICBsb2FkX2pzb25fZGF0YSgnc3RhdGUnLCBjb3VudHJ5X2lkKTtcclxuXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAkKCcjc3RhdGUnKS5odG1sKCc8b3B0aW9uIHZhbHVlPVwiXCI+PC9vcHRpb24+Jyk7XHJcbiAgICAgICAgICAgICQoJyNjaXR5JykuaHRtbCgnPG9wdGlvbiB2YWx1ZT1cIlwiPjwvb3B0aW9uPicpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI3N0YXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHN0YXRlX2lkID0gJCh0aGlzKS52YWwoKTtcclxuXHJcbiAgICAgICAgaWYoc3RhdGVfaWQgIT09ICcnKVxyXG4gICAgICAgICAgICBsb2FkX2pzb25fZGF0YSgnY2l0eScsIHN0YXRlX2lkKTtcclxuXHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAkKCcjY2l0eScpLmh0bWwoJzxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgQ2l0eTwvb3B0aW9uPicpO1xyXG5cclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG4kKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICQoJy5mb3JtLXNpZ251cCcpLmZvY3Vzb3V0KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZm9jdXNGYW5jeSA9ICQodGhpcykudmFsKCk7XHJcblxyXG4gICAgICAgIGlmKGZvY3VzRmFuY3kgPT09ICcnKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmb2N1c0ZhbmN5Jyk7XHJcblxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZm9jdXNGYW5jeScpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdlcnJvcicpO1xyXG5cclxuICAgIH0pO1xyXG4gICAgJCgnLnNlYXJjaC1tYWluLWZvcm0nKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgJCgnLm1haW4tZm9ybV9fYmxvY2tfX3NlbGVjdCcpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBpZigkdGhpcy52YWwoKS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnZXJyb3InKTtcclxuXHJcblxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfSk7XHJcbiAgICAkKCcubWFpbi1mb3JtX19ibG9ja19fc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcblxyXG4gICAgICAgIGlmKCR0aGlzLnZhbCgpICE9PScwJylcclxuICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2Vycm9yJyk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59KTtcbid1c2Ugc3RyaWN0J1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgJChcIi5jYXJkc19faXRlbVwiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBpbWcgPSAkKHRoaXMpLmZpbmQoJy5jYXJkX19pbWFnZV9faW1nJyk7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gJCh0aGlzKS5maW5kKCcuY2FyZF9fdGV4dCcpO1xyXG4gICAgICAgIHZhciB0aXRsZSA9ICQodGhpcykuZmluZCgnLmNhcmRfX3RpdGxlJyk7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9UZXh0ID0gZGVzY3JpcHRpb25bMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWU7XHJcbiAgICAgICAgdmFyIGRlc2NyaXB0aW9UaXRsZSA9IHRpdGxlWzBdLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO1xyXG4gICAgICAgIHZhciBzcmMgPSBpbWcuYXR0cignc3JjJyk7XHJcbiAgICAgICAgJChcImJvZHlcIikuYXBwZW5kKFwiPGRpdiBjbGFzcz0ncG9wdXAnPlwiK1xyXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J3BvcHVwX2JnJz48L2Rpdj5cIitcclxuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ncG9wdXBfYm9keSc+XCIrXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8c3BhbiBjbGFzcz0nY2xvc2UtYnV0dG9uIGNsb3NlLXBvcHVwLXRvdXInPlwiK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2luJz5cIitcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nY2xvc2UtYnV0dG9uLWJsb2NrJz48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2Nsb3NlLWJ1dHRvbi1ibG9jayc+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjwvZGl2PlwiK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J291dCc+XCIrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J2Nsb3NlLWJ1dHRvbi1ibG9jayc+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdjbG9zZS1idXR0b24tYmxvY2snPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8L2Rpdj5cIitcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8L3NwYW4+XCIrXHJcbiAgICAgICAgICAgICAgICBcIjxpbWcgc3JjPSdcIitzcmMrXCInIGNsYXNzPSdwb3B1cF9pbWFnZScgLz5cIitcclxuICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ncG9wdXBfYm9keV9kZXNjcmlwdGlvbic+XCIrXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdkZXNjcmlwdGlvbi10aXRsZSc+PC9kaXY+XCIrXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdkZXNjcmlwdGlvbi1jYXJkcyc+PC9kaXY+XCIrXHJcbiAgICAgICAgICAgICAgICBcIjwvZGl2PlwiK1xyXG4gICAgICAgICAgICAgICAgXCI8L2Rpdj5cIitcclxuICAgICAgICAgICAgXCI8L2Rpdj5cIik7XHJcbiAgICAgICAgJCgnLmRlc2NyaXB0aW9uLWNhcmRzJykuaHRtbChkZXNjcmlwdGlvVGV4dCk7XHJcbiAgICAgICAgJCgnLmRlc2NyaXB0aW9uLXRpdGxlJykuaHRtbChkZXNjcmlwdGlvVGl0bGUpO1xyXG4gICAgICAgICQoXCIucG9wdXBcIikuZmFkZUluKDgwMCk7XHJcbiAgICAgICAgJChcIi5wb3B1cF9iZ1wiKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKFwiLnBvcHVwXCIpLmZhZGVPdXQoODAwKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoXCIucG9wdXBcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0sIDgwMCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChcIi5jbG9zZS1wb3B1cC10b3VyXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoXCIucG9wdXBcIikuZmFkZU91dCgxMDAwKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICQoXCIucG9wdXBcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG59KTtcbid1c2Ugc3RyaWN0J1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKXtcclxuICAgICQoJy5oYW1idXJnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkKCcubW9iaWxlLW5hdmlnYXRpb24nKS5hZGRDbGFzcygnaXMtdmlzaWJsZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmNsb3NlLXBvcHVwLW1lbnUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5tb2JpbGUtbmF2aWdhdGlvbicpLnJlbW92ZUNsYXNzKCdpcy12aXNpYmxlJyk7XHJcbiAgICB9KTtcclxuICAgICQoZG9jdW1lbnQpLmtleXVwKGZ1bmN0aW9uKGV2ZW50KXtcclxuICAgICAgICBpZihldmVudC53aGljaD09PScyNycpe1xyXG4gICAgICAgICAgICAkKCcubW9iaWxlLW5hdmlnYXRpb24nKS5yZW1vdmVDbGFzcygnaXMtdmlzaWJsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcbid1c2Ugc3RyaWN0J1xyXG5cclxuJCgnI3R4dC1zZWFyY2gnKS5rZXl1cChmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlYXJjaEZpZWxkID0gJCh0aGlzKS52YWwoKTtcclxuICAgIGlmKHNlYXJjaEZpZWxkID09PSAnJykgIHtcclxuICAgICAgICAkKCcjZmlsdGVyLXJlY29yZHMnKS5odG1sKCcnKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgJC5nZXRKU09OKCdzZWFyY2gtZGF0YS5qc29uJywgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc2VhcmNoRmllbGQsIFwiaVwiKTtcclxuICAgICAgICB2YXIgb3V0cHV0ID0gJzxkaXYgY2xhc3M9XCJzZWFyY2gtYmxvY2tcIj4nO1xyXG4gICAgICAgIC8vdmFyIGNvdW50ID0gMTtcclxuICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24gKGtleSwgdmFsKSB7XHJcbiAgICAgICAgICAgIGlmICgodmFsLnRvdXIuc2VhcmNoKHJlZ2V4KSAhPSAtMSkgfHwgKHZhbC5uYW1lLnNlYXJjaChyZWdleCkgIT0gLTEpICkge1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLXJlc3VsdFwiPic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzxkaXYgY2xhc3M9XCJzZWFyY2gtcmVzdWx0X19pbWFnZVwiPjxpbWcgY2xhc3M9XCJzZWFyY2gtcmVzdWx0X19pbWFnZV9fbWFpblwiIHNyYz1cIicgKyB2YWwudG91cl9pbWFnZSArICdcIiBhbHQ9XCInICsgdmFsLmVtcGxveWVlX25hbWUgKyAnXCIgLz48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8ZGl2IGNsYXNzPVwic2VhcmNoLXJlc3VsdF9fZGVzY3JpcHRpb25cIj4nO1xyXG4gICAgICAgICAgICAgICAgb3V0cHV0ICs9ICc8aDUgY2xhc3M9XCJzZWFyY2gtcmVzdWx0X190aXRsZVwiPicgKyB2YWwubmFtZSArICc8L2g1Pic7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gJzxwIGNsYXNzPVwic2VhcmNoLXJlc3VsdF9fdGV4dFwiPicgKyB2YWwudG91cl9kZXNjcmlwdGlvbiArICc8L3A+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPGEgaHJlZj1cIiNcIiBjbGFzcz1cInNlYXJjaC1yZXN1bHRfX2xpbmtcIj5tb3JlIGRldGFpbHM8L2E+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcclxuICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcclxuXHJcbiAgICAgICAgICAgLyogICAgIGlmIChjb3VudCAlIDIgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSAnPC9kaXY+PGRpdiBjbGFzcz1cInNlYXJjaC1ibG9ja1wiPidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvdW50Kys7Ki9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG91dHB1dCArPSAnPC9kaXY+JztcclxuICAgICAgICAkKCcjZmlsdGVyLXJlY29yZHMnKS5odG1sKG91dHB1dCk7XHJcblxyXG4gICAgfSk7XHJcbn0pO1xuJ3VzZSBzdHJpY3QnXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICAkKCcueW91dHViZScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCAndXJsKGh0dHA6Ly9pLnl0aW1nLmNvbS92aS8nICsgdGhpcy5pZCArICcvc2RkZWZhdWx0LmpwZyknKTtcclxuXHJcbiAgICAgICAgJCh0aGlzKS5hcHBlbmQoJCgnPGRpdi8+JywgeydjbGFzcyc6ICdwbGF5J30pKTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkuZGVsZWdhdGUoJyMnK3RoaXMuaWQsICdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaWZyYW1lX3VybCA9ICdodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICsgdGhpcy5pZCArICc/YXV0b3BsYXk9MSZhdXRvaGlkZT0xJnJlbD0wJmZzPTEnO1xyXG5cclxuICAgICAgICAgICAgaWYgKCQodGhpcykuZGF0YSgncGFyYW1zJykpIGlmcmFtZV91cmwrPScmJyskKHRoaXMpLmRhdGEoJ3BhcmFtcycpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIHZhciBpZnJhbWUgPSAkKCc8aWZyYW1lLz4nLCB7J2ZyYW1lYm9yZGVyJzogJzAnLCAnc3JjJzogaWZyYW1lX3VybCwgJ3dpZHRoJzogJCh0aGlzKS53aWR0aCgpLCAnaGVpZ2h0JzogJCh0aGlzKS5oZWlnaHQoKSwnYWxsb3dmdWxsc2NyZWVuJzonYWxsb3dmdWxsc2NyZWVuJyB9KVxyXG5cclxuICAgICAgICAgICAgJCh0aGlzKS5yZXBsYWNlV2l0aChpZnJhbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pOyJdfQ==
